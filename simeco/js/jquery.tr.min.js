/**
 * @file jquery.tr.min.js
 * @brief Support for internationalization.
 * @author Jonathan Giroux (Bloutiouf)
 * @author Salvador de la Puente (lodr)
 * @site https://github.com/lodr/jquery.tr
 * @version 1.2
 * @license MIT license <http://www.opensource.org/licenses/MIT>
 */

(function($){var language='en';var cookieName='language';var debugMode=false;var debugPrefix='[!!] ';var dictionary;var replace=function(str,opt){var args=(typeof opt==='object'&&opt!=null)?opt:arguments;return str.replace(/&(\w+)/g,function(match,n){var value=args[n];if(value===undefined){return match}return value})};var lambda=function(key,opt){var args=(typeof opt==='object'&&opt!=null)?opt:arguments;return replace(key,args)};if($.cookie){language=$.cookie(cookieName)||language}$.tr={dictionary:function(newDictionary){if(newDictionary!==undefined){dictionary=newDictionary}return dictionary},debug:function(mode){if(mode!==undefined){debugMode=mode}return debugMode},debugPrefix:function(prefix){if(prefix!==undefined){debugPrefix=prefix}return debugPrefix},language:function(newLanguage,useCookie){if(newLanguage!==undefined){if(useCookie&&$.cookie){var cookieLanguage=$.cookie(cookieName);if(cookieLanguage){return cookieLanguage}}language=newLanguage;if($.cookie){$.cookie(cookieName,language)}}return language},s:function(){var a=$.makeArray(arguments);return function(opt,replace){return replace(a[opt._i],opt)}},g:function(m,f){var a=[m,f];return function(opt,replace){var i=0;if(opt._g&&opt._g!=='m'){i=1}return replace(a[i],opt)}},p:function(s,p,z){var a=[s,p,z];return function(opt,replace){var i=1;if(z&&typeof opt._p!='undefined'&&opt._p==0){i=2}else if(opt._p&&opt._p==1){i=0}return replace(a[i],opt)}},gp:function(ms,fs,mp,fp,mz,fz){var a=[ms,fs,mp,fp,mz,fz];return function(opt,replace){var i=2;if(mz&&typeof opt._p!='undefined'&&opt._p==0){i=4}else if(opt._p&&opt._p==1){i=0}if(opt._g&&opt._g!=='m'){if(i<4||fz){i+=1}}return replace(a[i],opt)}},translator:function(customDictionary){var args=$.makeArray(arguments);var dict=dictionary;if(typeof customDictionary=='object'){args.shift();dict=customDictionary}if(!dict){return lambda}var langSet=dict;for(var i in args){langSet=langSet[args[i]];if(!langSet){return lambda}}var lang=langSet[language];if(typeof lang=='function'){lang=lang()}if(!lang){return lambda}return function(key,opt){var value=lang[key];var args=(typeof opt==='object'&&opt!=null)?opt:arguments;if(typeof value==='string'){return replace(value,args)}else if(typeof value==='function'){return value(args,replace)}else if(typeof value==='number'){return value}else{return(debugMode?debugPrefix:'')+replace(key,args)}}}}})(jQuery);
